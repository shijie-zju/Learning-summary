# 计算机网络笔记

通信：计算机--01高低电平-->计算机

## 为了优化减少线路，提出**HUB集线器**：（物理层）

1. 转发：HUB集线器做消息的转发，收到1想给2的消息后同时转发至2345，收到2想给3的消息后同时发给1345，因此需要提出标识的概念

2. 标识：5收到消息后识别，是给自己的再接收

但是1和2同时发消息，信号会互相杂糅

因此提出**CSMA/CD协议即载波侦听**：发送时确定没有其他消息在发时再发送

但是不适用于大规模的网络通信

## 于是提出了**SW交换机**（数据链路层）

HUB没有记录标识而是直接广播出去，但SW交换机可以记录标识，找不到时才会广播

1. 记录每个计算机地址（48bit的mac地址），端口

计算机->交换机：识别为mac2，找到对应的端口2->由该口发送给2号计算机

一机一口对应：[ C计算机 交换机4号口 ]

2. 全双工：即1号在发送数据时也可以接收数据，4个电脑就有8条线

3. 交换机直接可进行桥接

交换机的所在层为数据链路层：

**mac地址**：数据头（记录了原地址，目的mac地址）+数据（IP头（IP的源地址，IP的目的地址） IP数据（ ））

可以在一个较小的局域网络内达到较好效果，但网络规模扩大后无法应对。

## **路由器**：网络1与网络2间的连接点，跨网络进行数据转发（网络层）
网络1中有计算机123

网络2中有计算机456

网络内通信，如1找2则用交换机

跨网络通信，如1找4则用路由器

**mac地址**是只能标识设备的（即计算机），是真实地址

因此提出**IP地址**标识网络和设备（获得方法**DHCP协议**），是抽象的IP不能直接用作通信，只能mac

查询：**DNS服务器**，由域名查询IP地址，类似查号台

查不到->根服务器->得知某几台知道，向下去查


路由表建立：较复杂

网络内传输,如 
**192.168.1.52->192.168.1.254**
1. 1.52先查1.254的mac地址 **ARP协议**（获取地址：网络内广播谁是1.254，收到就回复下mac地址，就可以mac层传输了）
2. Mac层传输
 
**192.168.0.102->192.168.1.254**
1. 0.102->0.1 

IP的源地址0.102，目的地址1.254

MAC源地址0.102，目的地址0.1

2. 0.1-1.52

IP的源地址0.102，目的地址1.254

MAC源地址0.1，目的地址1.52

3. 1.52->1.254

IP的源地址0.102，目的地址1.254

MAC源地址1.52，目的地址1.254

## TCP UDP（传输层）

发送数据包到计算机上使用特定端口号的应用程序

TCP: 保证数据可靠性，为使用该协议的应用程序分配一个端口号，如web服务器通常用80端口来进行HTTP通信，而电子邮件服务器用25端口来SMTP通信

**端口**允许不同应用进程通过网络进行通信

## HTTP（应用层）

提供特定于应用程序的协议，如HTTP,FTP,IMAP

















